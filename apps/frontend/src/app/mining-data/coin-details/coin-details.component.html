<nz-page-header [nzBackIcon]="back">
  <ng-template #back>
    <span nz-icon [nzIconfont]="'icon-chevron-left'"></span>
  </ng-template>
  <nz-page-header-title>{{(params$ | async)?.coin}}</nz-page-header-title>
  <nz-page-header-subtitle>{{(params$ | async)?.algo}}</nz-page-header-subtitle>
  <nz-page-header-extra>
    <img
      *ngIf="(params$ | async)?.coin"
      nz-image
      [nzSrc]="'/assets/crypto-icons/' + (params$ | async)?.coin?.toLowerCase() + '.svg'"
      [nzFallback]="'/assets/no-image.png'"
      [alt]="(params$ | async)?.coin || ''"
      width="60px"
      height="60px"
    />
  </nz-page-header-extra>

  <nz-page-header-tags>
    <mdl-coin [coin]="(params$ | async)?.coin">
      <ng-template coin let-data>
        <nz-tag>
          {{data?.algorithm}}
        </nz-tag>
        <nz-tag [nzColor]="'success'">
          {{data?.price}} $
        </nz-tag>
        <nz-tag>
          {{((data?.updated || 0) * 1000) | moment}}
        </nz-tag>
      </ng-template>
    </mdl-coin>
  </nz-page-header-tags>
</nz-page-header>
<div class="content">
  <nz-row [nzGutter]="[10, 10]">
    <nz-col [nzXs]="24">
      <mdl-coin [coin]="(params$ | async)?.coin">
        <ng-template coin let-data>
          <nz-row [nzGutter]="[22, 10]">
            <nz-col [nzSpan]="4" [nzXs]="12" [nzMd]="8" [nzLg]="8" [nzXXl]="4">
              <nz-statistic
                [nzValue]="data.algorithm"
                [nzTitle]="'Algorithm'"
              ></nz-statistic>
            </nz-col>
            <nz-col [nzSpan]="4" [nzXs]="12" [nzMd]="8" [nzLg]="8" [nzXXl]="4">
              <nz-statistic
                [nzValue]="data.network_hashrate | siSymbol"
                [nzTitle]="'Network Hashrate'"
              ></nz-statistic>
            </nz-col>
            <nz-col [nzSpan]="4" [nzXs]="12" [nzMd]="8" [nzLg]="8" [nzXXl]="4">
              <nz-statistic
                [nzValue]="data.difficulty | siSymbol"
                [nzTitle]="'Difficulty'"
              ></nz-statistic>
            </nz-col>
            <nz-col [nzSpan]="4" [nzXs]="12" [nzMd]="8" [nzLg]="8" [nzXXl]="4">
              <nz-statistic
                [nzValue]="data.reward_block"
                [nzTitle]="'Reward Block'"
              ></nz-statistic>
            </nz-col>
            <nz-col [nzSpan]="4" [nzXs]="12" [nzMd]="8" [nzLg]="8" [nzXXl]="4">
              <nz-statistic
                [nzValue]="data.reward | siSymbol"
                [nzTitle]="'Reward'"
              ></nz-statistic>
            </nz-col>
            <nz-col [nzSpan]="4" [nzXs]="12" [nzMd]="8" [nzLg]="8" [nzXXl]="4">
              <nz-statistic
                [nzValue]="data.reward_unit"
                [nzTitle]="'Reward Unit'"
              ></nz-statistic>
            </nz-col>
          </nz-row>
        </ng-template>
      </mdl-coin>
    </nz-col>
    <nz-col [nzXs]="24">
      <coin-history-chart
        [coin]="(params$ | async)?.coin"
        [algo]="(params$ | async)?.algo"
        [fields]="{
          network_hashrate: true,
          price: true,
          difficulty: false
        }"
      ></coin-history-chart>
    </nz-col>
    <nz-col nz-col [nzXs]="24">
      <coin-history-chart
        [coin]="(params$ | async)?.coin"
        [algo]="(params$ | async)?.algo"
        [fields]="{
          network_hashrate: false,
          price: true,
          difficulty: true
        }"
      ></coin-history-chart>
    </nz-col>
  </nz-row>
</div>
